var _=require("underscore");_.str=require("underscore.string"),_.mixin(_.str.exports()),_.str.include("Underscore.string","string");var natural=require("natural"),Corpus=function(a){var b=this;this.documents=a,this.clean=function(){return b.documents=b.documents.map(function(a){return _.clean(a)}),b},this.trim=function(){return b.documents=this.documents.map(function(a){return _.trim(a)}),b},this.inspect=function(a){void 0===a&&(a=200),b.documents.forEach(function(b,c){console.log("Document "+c+":"),console.log(_(b).truncate(a)),console.log("─ ─ ─ ─ ─")})},this.toLower=function(){return b.documents=b.documents.map(function(a){return a.toLowerCase()}),b},this.toUpper=function(){return b.documents=b.documents.map(function(a){return a.toUpperCase()}),b},this.stem=function(a){return b.documents=b.documents.map(function(b){return"Lancaster"==a?natural.LancasterStemmer.stem(b):natural.PorterStemmer.stem(b)}),b},this.map=function(a){return b.documents=_corpus.documents.map(a),b},this.removeWords=function(a,c){for(var d=0;d<b.documents.length;d++)for(var e=0;e<a.length;e++){var f=c?"":"i",g=new RegExp("\\b"+a[e]+"\\b",f);b.documents[d]=b.documents[d].replace(g,"")}return b},this.removeInterpunctuation=function(){return b.documents=b.documents.map(function(a){return a.replace(/[\!\?\.,;-]/g," ")}),b},this.stripWhitespace=function(){return b.documents=b.documents.map(function(a){return a.replace(/ +/g," ")}),b}};exports.Corpus=Corpus;